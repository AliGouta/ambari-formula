{% from 'hadoop/map.jinja' import hdpconfig with context %}

    "host_groups": [
      {% for option, versions in hdpconfig.iteritems() %}
        {% for version, info in versions.iteritems() %}
           {
             "name": "{{ info.name }}",
             "configurations": [],
             "components":[
             {% for field in info['components'] %}
             {
               "name": "{{ field }}"
             }
             {% endfor %}
             ]
             "cardinality": "{{ info.cardinality }}",
           }
        {% endfor %}
      {% endfor %}
     ]